---
import Layout from "../layouts/Layout.astro";
import MainWrapper from "../components/MainWrapper.astro";
import Header from "../components/Header.astro";

import { getCollection, type CollectionEntry } from "astro:content";
import BlogCard from "../components/BlogCard.astro";
import Card from "../content/Card.astro";

const posts: CollectionEntry<"posts">[] = await getCollection("posts");
---

<Layout title="Spirit Army">
  <MainWrapper>
    <Header />
    <section class="bg-white dark:bg-gray-900">
      <div class="py-8 px-4 mx-auto max-w-screen-xl lg:py-16 lg:px-6">
        <div class="grid gap-8 mb-6 lg:mb-16 md:grid-cols-2">
          {
            posts
              .reverse()
              .map((post) => (
                <Card
                  title={post.data.title}
                  image={post.data.image}
                  date={post.data.date}
                  slug={post.slug}
                  author={post.data.author}
                />
              ))
          }
        </div>
      </div>
    </section>
  </MainWrapper>
</Layout>
